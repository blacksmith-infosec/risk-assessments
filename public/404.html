<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0' />
    <title>Redirecting...</title>
    <script>
      // Validate redirect URL to prevent open redirect attacks
      (function() {
        const currentUrl = location.href;
        const allowedOrigin = location.origin;

        try {
          const url = new URL(currentUrl);
          // Only store redirect if it's from the same origin
          if (url.origin === allowedOrigin) {
            sessionStorage.redirect = currentUrl;
          }
        } catch (e) {
          // Invalid URL, don't store
        }

        // Redirect to home page using JavaScript instead of meta refresh
        // This avoids issues with browser back button and is W3C compliant
        window.location.replace('/');
      })();
    </script>
  </head>
  <body>
    <div id='root'></div>
    <script type='module' src='/src/main.tsx'></script>
  </body>
</html>
